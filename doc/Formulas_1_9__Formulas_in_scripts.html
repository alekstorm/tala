<html><head><meta name="robots" content="index,follow">
<title>Formulas 1.9. Formulas in scripts</title></head><body bgcolor="#FFFFFF">

<table border=0 cellpadding=0 cellspacing=0><tr><td bgcolor="#CCCC00"><table border=4 cellpadding=9><tr><td align=middle bgcolor="#000000"><font face="Palatino,Times" size=6 color="#999900"><b>
Formulas 1.9. Formulas in scripts
</b></font></table></table>
<p>
In scripts, you can assign numeric expressions to numeric variables, and string expressions to string variables. You can also use numeric and string variables in expressions.</p>
<h3>
Example: report a square</h3>
<p>
Choose <a href="New_Praat_script.html">New Praat script</a> from the <a href="Praat_menu.html">Praat menu</a>. A script editor window will become visible. Type the following lines into that window:</p>
<code>
x = 99<br></code>
<code>
x2 = x * x<br></code>
<code>
echo The square of 'x' is 'x2'.<br></code>
<p>
This is an example of a simple <a href="Praat_script.html">Praat script</a>; it assigns the results of the numeric formulas <code>99</code> and <code>x * x</code> to the numeric variables <i>x</i> and <i>x2</i>. Note that the formula <code>x * x</code> itself refers to the variable <i>x</i>. To run (execute) this script, type Command-R or choose <b>Run</b> from the <b>Run</b> menu. Praat will then write the following text into the Info window:</p>
<code>
The square of 99 is 9801.<br></code>
<p>
For more information on scripts, see the <a href="Scripting.html">Scripting</a> tutorial.</p>
<h3>
Example: rename the city of Washington</h3>
<p>
Type the following text into the script editor window:</p>
<code>
current$ = "Bush"<br></code>
<code>
previous$ = "Clinton"<br></code>
<code>
famous$ = "Lincoln"<br></code>
<code>
newCapital$ = current$ + mid$ (famous$, 2, 3) + right$ (previous$, 3)<br></code>
<code>
echo The new capital will be 'newCapital$'.<br></code>
<p>
This script assigns the results of four string expressions to the four string variables <i>current$</i>, <i>previous$</i>, <i>famous$</i>, and <i>newCapital$</i>. The dollar sign is the notation for a string variable or for a function whose result is a string (like <b>left$</b>). Note that the formula in the fourth line refers to three existing variables.</p>
<p>
To see what the new name of the capital will be, choose <b>Run</b>.</p>
<h3>
Example: numeric expressions in settings in scripts</h3>
<p>
As in real settings windows, you can use numeric expressions in all numeric fields. The example of two pages back becomes:</p>
<code>
Create Sound from formula... sine Mono 0 10000/44100 44100   0.9 * sin (2*pi*377*x)<br></code>
<p>
If the numeric field is not the last field of the settings window, you will want to write the formula without any spaces, e.g. as 10000/44100, since spaces are used to separate the fields.</p>
<h3>
Example: string expressions in settings in scripts</h3>
<p>
As in real settings windows, you cannot use string expressions in text fields directly, but you can still use the trick of variable substitution with single quotes (see <a href="Scripting_5_1__Variables.html">Scripting 5.1. Variables</a>):</p>
<code>
soundName$ = "hello"<br></code>
<code>
fileName$ = soundName$ + ".wav"<br></code>
<code>
Read from file... 'fileName$'<br></code>
<h3>
Example: numeric expressions in creation in scripts</h3>
<p>
Suppose you want to generate a sine wave whose frequency is held in a variable. This is the way:</p>
<code>
frequency = 377<br></code>
<code>
Create Sound from formula... sine Mono 0 1 44100   0.9 * sin (2*pi*frequency*x)<br></code>
<p>
In this example, Praat will protest if <i>x</i> is a variable as well, because that would be ambiguous with the <i>x</i> that refers to the time in the sound (see <a href="Formulas_1_8__Formulas_for_modification.html">Formulas 1.8. Formulas for modification</a>).</p>
<h3>Links to this page</h3>
<ul>
<li><a href="Formulas.html">Formulas</a>
<li><a href="Formulas_1__My_first_formulas.html">Formulas 1. My first formulas</a>
<li><a href="Formulas_1_6__Formulas_in_settings_windows.html">Formulas 1.6. Formulas in settings windows</a>
</ul>
<hr>
<address>
	<p>&copy; ppgb, February 25, 2007</p>
</address>
</body>
</html>
