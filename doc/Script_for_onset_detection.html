<html><head><meta name="robots" content="index,follow">
<title>Script for onset detection</title></head><body bgcolor="#FFFFFF">

<table border=0 cellpadding=0 cellspacing=0><tr><td bgcolor="#CCCC00"><table border=4 cellpadding=9><tr><td align=middle bgcolor="#000000"><font face="Palatino,Times" size=6 color="#999900"><b>
Script for onset detection
</b></font></table></table>
<p>
"Can anybody provide me with a script that detects the onset of sound (i.e. the end of silence)."</p>
<p>
You can create an Intensity contour and look for the first frame that is above some predefined threshold:</p>
<code>
To Intensity... 100 0<br></code>
<code>
n = Get number of frames<br></code>
<code>
for i to n<br></code>
<code>&nbsp;&nbsp;&nbsp;
intensity = Get value in frame... i<br></code>
<code>&nbsp;&nbsp;&nbsp;
if intensity &gt; 40<br></code>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
time = Get time from frame... i<br></code>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo Onset of sound at: 'time:3' seconds.<br></code>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
exit<br></code>
<code>&nbsp;&nbsp;&nbsp;
endif<br></code>
<code>
endfor<br></code>
<p>
Since the intensity is computed with rather long windows, the result may be 0.01 or 0.02 seconds before the actual start of sound.</p>
<h3>Links to this page</h3>
<ul>
<li><a href="Scripting_examples.html">Scripting examples</a>
</ul>
<hr>
<address>
	<p>&copy; ppgb, October 5, 2004</p>
</address>
</body>
</html>
